# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":203,"y":40,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"Xo/U8dF8F6oDnrm]~x~A","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"xXP]]I%3O%k-]*2.^-su"}},"next":{"block":{"type":"variables_set_stopwatch","id":"d[ISrsUU`bF0xR+|ME_m","fields":{"VAR":{"id":"U#b/H-e*Hmd{gK;B|j-W"}},"next":{"block":{"type":"variables_setup_imported_function","id":"waRFdtJv!9X^UCPt`j/~","fields":{"FROM_MODULE":{"id":"+LN(FBM8lRx=MBdP(n3h"},"VAR":{"id":"*Fd9q$}OLS7_s,,^iYIk"}},"next":{"block":{"type":"variables_setup_imported_function","id":"1$]C7t.,5=B~U7PulJZT","fields":{"FROM_MODULE":{"id":"+LN(FBM8lRx=MBdP(n3h"},"VAR":{"id":"[HytG?omdbTKs1O_CRy|"}},"next":{"block":{"type":"variables_setup_imported_function","id":".NdgoK70!]D?J_ZxS?D(","fields":{"FROM_MODULE":{"id":"+LN(FBM8lRx=MBdP(n3h"},"VAR":{"id":"0}UhunH.k!dO:/wu)QR2"}},"next":{"block":{"type":"variables_setup_any","id":"+VQmn7k1,q*o6Gl})p.5","fields":{"VAR":{"id":":5]moZ(xDxcn!Q~@Xl|)"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"}s8U3viEXUc^*yuYScfL","fields":{"NUM":0}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":203,"y":394,"deletable":false,"next":{"block":{"type":"blockImportTaskCallStatement","id":"#:Tf`I^tO%CpZm@Z*5ve","extraState":{"optionLevel":1},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":",POTD)=Jp*,O+h9EIp!b","fields":{"VAR":{"id":"*Fd9q$}OLS7_s,,^iYIk","name":"pup_init","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"pWX[G3+A}~oj84XXCk6(","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"=v]p-5vM;t#Hp,0pFt/c","fields":{"TEXT":"A"}}}},"next":{"block":{"type":"blockComment","id":"npbJ`@vygFn4iqzD-^ES","fields":{"FIELDNAME":"pup_add_command <name> <to_hub> <from_hub>"},"next":{"block":{"type":"blockImportTaskCallStatement","id":"^#3zJ*T~jM66`u`A2PgK","extraState":{"optionLevel":3},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"}~344_]pPjS?Vg{HHiM/","fields":{"VAR":{"id":"[HytG?omdbTKs1O_CRy|","name":"pup_add_command","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"##W}~tz)*PsT3@{=un+N","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"-+EriDRd15xs)7qyum$b","fields":{"TEXT":"show"}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"U7m,`{_WH{d?RnPru+p^","fields":{"NUM":0}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"sRFq%Rg?nn_d-pyQn%T|","fields":{"NUM":1}}}},"next":{"block":{"type":"blockImportTaskCallStatement","id":"Qx.nkZO[e5l~H8p+voTw","extraState":{"optionLevel":3},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"3JG1$ua.XOIx@4/lY1a(","fields":{"VAR":{"id":"[HytG?omdbTKs1O_CRy|","name":"pup_add_command","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"##W}~tz)*PsT3@{=un+N","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"gV=E=;};s=zRk;{1=g6_","fields":{"TEXT":"add"}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"!T5aA,sQD_E;^?W~W$O^","fields":{"NUM":1}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"O83{C_jvAyITL5eq#r6]","fields":{"NUM":2}}}},"next":{"block":{"type":"blockImportTaskCallStatement","id":"VNh`HMt(SeQr}{hbbNi}","extraState":{"optionLevel":3},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"QZU}nT;=;H;u8?R*uW^k","fields":{"VAR":{"id":"[HytG?omdbTKs1O_CRy|","name":"pup_add_command","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"##W}~tz)*PsT3@{=un+N","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"1w5k`uTL9pImdyKg14uY","fields":{"TEXT":"count"}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"#i=YWhFt0b~bx1DAW-fO","fields":{"NUM":1}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"I7[Ye^_d^,gE(=AynWoa","fields":{"NUM":0}}}},"next":{"block":{"type":"blockFlowWhile","id":"*I^YLpr`haADdp}z}f;M","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"Jrk%}+)}wO!)5lWv4Ais"}},"DO":{"block":{"type":"blockImportTaskCallStatement","id":"l`jA^N2h~{)#-sPBMm=,","extraState":{"optionLevel":2},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"jO#_WFp!iCy-_u1r17qG","fields":{"VAR":{"id":"0}UhunH.k!dO:/wu)QR2","name":"pup_call","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"-57tpTAv}vNAMuTC$FF,","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"sNKadIj@p]FrVl[v$dS.","fields":{"TEXT":"show"}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"Y2|,;Tfw-$=YaY;B]o:_","fields":{"NUM":0}},"block":{"type":"blockStopWatchTime","id":"*14d}s5Qm=WbRa|rMjte","inputs":{"VAR":{"shadow":{"type":"variables_get_stopwatch","id":"DHOY+*o*@A;]Hl2[CtJo","fields":{"VAR":{"id":"U#b/H-e*Hmd{gK;B|j-W","name":"timer","type":"StopWatch"}}}}}}}},"next":{"block":{"type":"blockComment","id":"M!ER=HJg;8%TIC0otbL(","fields":{"FIELDNAME":"counts increases to 1000 and restarts at 0"},"next":{"block":{"type":"blockVariableSetValue","id":"*7lb3k`V}F7JOvA8csi/","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"#bos5P_wNAX[{_23)7R_","fields":{"VAR":{"id":":5]moZ(xDxcn!Q~@Xl|)","name":"count","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"N/:]F)qI;AMAyyvFkx^/","fields":{"NUM":0}},"block":{"type":"blockMathOp","id":"u*?)HhTZcL{GovjoO?54","extraState":{"optionLevel":1},"fields":{"OP":"MODULO"},"inputs":{"NUM":{"shadow":{"type":"blockMathNumber","id":"7q6Of}mEe.4JZeU5TeuX","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"$I=`axD/.LGm-WNcc5-]","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"68nu#[T2N3%Z3y1jyCTt","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":",xNfHLbVObQxR2$FBj!-","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"?~P8r@X8YHK6avVyr)u_","fields":{"VAR":{"id":":5]moZ(xDxcn!Q~@Xl|)","name":"count","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"hDyz?;7=AC4k{$=hze*f","fields":{"NUM":1}}}}}},"NUM2":{"shadow":{"type":"blockMathNumber","id":"c`F#wtruLbkp3beBCbV(","fields":{"NUM":1000}}}}}}},"next":{"block":{"type":"blockPrint","id":"a4P+8)Y9Ctf,|w{Eqs.t","extraState":{"optionLevel":5},"fields":{"SEP":"SEP_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"EnI!~l8COcMp$!a99Uly","fields":{"TEXT":"sum"}}},"TEXT1":{"shadow":{"type":"text","id":"+JQeui_q10yL#Fb9yeJ]","fields":{"TEXT":"abc"}},"block":{"type":"blockVariableGetValue","id":"|uIQ5EIWNh6gLk|MILK^","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"ORdG`X#,CPdvVmS+8DC%","fields":{"VAR":{"id":":5]moZ(xDxcn!Q~@Xl|)","name":"count","type":"Any"}}}}}}},"TEXT2":{"shadow":{"type":"text","id":"qNO:UzX:4z6O-n;N6p,q","fields":{"TEXT":"and"}}},"TEXT3":{"shadow":{"type":"text","id":"O,C,eJS-B,n+g:I:[Vxf","fields":{"TEXT":"abc"}},"block":{"type":"blockMathArithmetic","id":"{uA@|}A3HTl0.AmD%iVN","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"=x+~OHdLo}hX,e$.N#6Z","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"Fs*=Hg;:(ji`lW+tZIL*","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Q~#]!F:)dTdS^Wf#=ZQs","fields":{"VAR":{"id":":5]moZ(xDxcn!Q~@Xl|)","name":"count","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"YALt8cO)##kM30@NC/Hz","fields":{"NUM":2}}}}}},"TEXT4":{"shadow":{"type":"text","id":"`ftF8.5UmG!l{$%aRN,3","fields":{"TEXT":"=?"}}},"TEXT5":{"shadow":{"type":"text","id":"o5PF32GMhf097e7FiCXC","fields":{"TEXT":"abc"}},"block":{"type":"blockImportTaskCallValue","id":"fEeT73[|YK$GHSdDDOhh","extraState":{"optionLevel":3},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"@fPfT+Lslo}g5{A7*]m^","fields":{"VAR":{"id":"0}UhunH.k!dO:/wu)QR2","name":"pup_call","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"f(G?9=5%$:jv13dcilKG","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"-!)sIY`#^h9%eW}UukOI","fields":{"TEXT":"add"}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"x+@Sv~nV5n1K-_t;vad|","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"k7D91@MB+2p[7l?#`@0.","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"[e0Ey=KlVNr/%L|:y+ec","fields":{"VAR":{"id":":5]moZ(xDxcn!Q~@Xl|)","name":"count","type":"Any"}}}}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"7.H2g?S8EzCSyRq{Z%K_","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"0/fw^Y)UVE+=Tfsk)IgO","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"x@PAHOq|fULGx%vTy9z2","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"Y(qK6DVMQCn0Ufvc.u?Y","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"9;DbAY1sW@b;j.`=4pKm","fields":{"VAR":{"id":":5]moZ(xDxcn!Q~@Xl|)","name":"count","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"ZoOiesKLEdqqWv@a^c*Q","fields":{"NUM":2}}}}}}}}}},"next":{"block":{"type":"blockPrint","id":"n#h;yX5-t^Q(W;6g(h)T","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"YA_yIkRN31HAx`7X0IUh","fields":{"TEXT":"received counter = "}}},"TEXT1":{"shadow":{"type":"text","id":"|R1rIOSXK[(X{aA[p%e0","fields":{"TEXT":"abc"}},"block":{"type":"blockImportTaskCallValue","id":"XJCTgcM=!uL4sNZE1X?L","extraState":{"optionLevel":1},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":":pYr#~wvt_FoL37M:MTI","fields":{"VAR":{"id":"0}UhunH.k!dO:/wu)QR2","name":"pup_call","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"UD(*YDYK1-jNm{SB~pi)","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"|%e6dSjY.Oh~YA[e^yc*","fields":{"TEXT":"count"}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"ZcQzOR2uPc-GD?!.$I*0","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"c3{s0~txK7:)|qcIj*cY","fields":{"VALUE0":1000}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"]1F%-jQ9{Y[]z,0s_l,)","type":"ColorDef"},{"name":"orange","id":"/W~,#Bty7L2z;otC(joE","type":"ColorDef"},{"name":"yellow","id":"0OGZmFei?E:f2t!Z%#^u","type":"ColorDef"},{"name":"green","id":"cyfc/Hb?9HSbkFEsALeD","type":"ColorDef"},{"name":"cyan","id":"Y:r|nO*t}kB9jqcYe@Op","type":"ColorDef"},{"name":"blue","id":"crD.M`v~=*fX?SiK@^V{","type":"ColorDef"},{"name":"violet","id":"46fb3ek;?3fS?@uF:#p=","type":"ColorDef"},{"name":"magenta","id":"S[Vn:p$peCN$xe2W0_#y","type":"ColorDef"},{"name":"white","id":"C)$FZluoYWB8!*c`3$xP","type":"ColorDef"},{"name":"none","id":"_YyQN[!!PK3w;t*/$UwP","type":"ColorDef"},{"name":"micropup","id":"+LN(FBM8lRx=MBdP(n3h","type":"ModuleImported"},{"name":"prime hub","id":"xXP]]I%3O%k-]*2.^-su","type":"PrimeHub"},{"name":"timer","id":"U#b/H-e*Hmd{gK;B|j-W","type":"StopWatch"},{"name":"pup_init","id":"*Fd9q$}OLS7_s,,^iYIk","type":"FunctionImported"},{"name":"pup_add_command","id":"[HytG?omdbTKs1O_CRy|","type":"FunctionImported"},{"name":"pup_call","id":"0}UhunH.k!dO:/wu)QR2","type":"FunctionImported"},{"name":"count","id":":5]moZ(xDxcn!Q~@Xl|)","type":"Any"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.tools import StopWatch, wait

from micropup import pup_add_command, pup_call, pup_init

# Set up all devices.
prime_hub = PrimeHub()
timer = StopWatch()

# Initialize variables.
count = 0


# The main program starts here.
pup_init('A')
# pup_add_command <name> <to_hub> <from_hub>
pup_add_command('show', 0, 1)
pup_add_command('add', 1, 2)
pup_add_command('count', 1, 0)
while True:
    pup_call('show', timer.time())
    # counts increases to 1000 and restarts at 0
    count = (count + 1) % 1000
    print('sum', count, 'and', count * 2, '=?', pup_call('add', count, count * 2))
    print('received counter = ', pup_call('count'))
    wait(1000)
