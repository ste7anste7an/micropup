# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":0,"y":0,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"3[o[iE#ApX.?uYCF;pqm","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"#^/dYjRN#Y*+Ox1(J(}^"}},"next":{"block":{"type":"variables_setup_imported_function","id":"u~DBXIMT;?@mL4a!nSC.","fields":{"FROM_MODULE":{"id":"aSI,Kyr#J8V;jdzDNkSH"},"VAR":{"id":"zM`xf7g)*,w$E:ti;D_X"}},"next":{"block":{"type":"variables_setup_imported_function","id":"VbXZ/]Vi*3ZC|r0l48!w","fields":{"FROM_MODULE":{"id":"aSI,Kyr#J8V;jdzDNkSH"},"VAR":{"id":"SbsXUs[[tqHEJ;U6VMCG"}},"next":{"block":{"type":"variables_setup_imported_function","id":"D=D(|E6SawQJE-u)pt:_","fields":{"FROM_MODULE":{"id":"aSI,Kyr#J8V;jdzDNkSH"},"VAR":{"id":"xmrZvWIjkrHj_}BjK%lS"}},"next":{"block":{"type":"variables_set_motor","id":"a=9^+FQ.9zNsFiHalW|7","fields":{"VAR":{"id":";5|[!{_xhTp}vrn(Ltno"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"NB2]ZowEf2gf5YBhc}$9","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"HS6eA@*mj;$}+;Fe_aD5","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_setup_any","id":"m7D%}]!bKXi5)JARez(e","fields":{"VAR":{"id":"?h/jKIp{O#yP+)|vpjy@"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":";L8Zi7w|+lvt*=Yz(2mq","fields":{"NUM":0}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":447,"y":-8,"deletable":false,"next":{"block":{"type":"blockImportTaskCallStatement","id":"@iE8FjlKA-ap9U;A1S3F","extraState":{"optionLevel":1},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":".bQ;NCpYVwm:C|[4J/R!","fields":{"VAR":{"id":"zM`xf7g)*,w$E:ti;D_X","name":"init","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"8Fd{Huzmv(x!_DGrfLAF","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"}Z|]yhyIPE?CGpAteT4p","fields":{"TEXT":"A"}}}},"next":{"block":{"type":"blockImportTaskCallStatement","id":"]+9$AY;`}U9:S+0%?WKG","extraState":{"optionLevel":3},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"_)~wUse*sq~kzl1g2bFA","fields":{"VAR":{"id":"SbsXUs[[tqHEJ;U6VMCG","name":"add_command","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"$TuY2{rKe!/L1K(Jaj`.","fields":{"NUM":1}},"block":{"type":"blockTextLiteral","id":"k*l0hD!=gN}n[/6d*J1H","fields":{"TEXT":"blocks"}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"%50%q]VK;SG=qZ0QTrPv","fields":{"NUM":2}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"j^+`vKPe,CRjibFK)to$","fields":{"NUM":0}}}},"next":{"block":{"type":"blockFlowWhile","id":"wOAd)^oPzeDd0BzLs3,,","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"|Q$Gz;*e*wc44Vs-zJMv"}},"DO":{"block":{"type":"blockVariableSetValue","id":"rKSzy7`QSNf/VD9E%]sA","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"DQPRN/|L$xxwg3kl^x{m","fields":{"VAR":{"id":"?h/jKIp{O#yP+)|vpjy@","name":"data","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"kbj%1K:2W)O!p|~SKOs%","fields":{"NUM":0}},"block":{"type":"blockImportTaskCallValue","id":"*ADN!9Jo-xqTM,;4cZ,Q","extraState":{"optionLevel":1},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"VI-v|G$;KErul6?-LF#+","fields":{"VAR":{"id":"xmrZvWIjkrHj_}BjK%lS","name":"call","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"acO$3c1OZ9i]+q?TwAko","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"E]FCvgWCN]h|`NgdIIxs","fields":{"TEXT":"blocks"}}}}}}},"next":{"block":{"type":"blockPrint","id":"Z.iSa1DXV0gVEo^lU*/j","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"=+n*CQ8x,=9Jt.[K=@O8","fields":{"TEXT":"abc"}},"block":{"type":"blockVariableGetValue","id":"fpM$}XoZL+y`-NZ|LZei","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Mmlu:Q2A6L15SGxFBQX%","fields":{"VAR":{"id":"?h/jKIp{O#yP+)|vpjy@","name":"data","type":"Any"}}}}}}}},"next":{"block":{"type":"blockIfElse","id":"S9-I:`kgb7^M?=!MWb_?","extraState":{"optionLevel":1},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"sY;E.6pkbd?OrCH,+Dl%"},"block":{"type":"blockLogicCompare","id":"Tl2uc+L5Nbe:qCw?vOY.","fields":{"OP1":"GT"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"2=+?W.f*p5{n#7)@C#-A","fields":{"NUM":3}},"block":{"type":"blockListGet","id":"[RQ=`b9C%1*#O/k9Ah$`","extraState":{"optionLevel":1},"fields":{"METHOD":"LIST_GET_INDEX"},"inputs":{"LIST":{"shadow":{"type":"blockListEmpty","id":"kkcP!:UItv/l+lqP-$UR"},"block":{"type":"blockVariableGetValue","id":"8PSwoGXA!}vw{rmucHmY","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"/(fm0.%1}N!JoYyausvU","fields":{"VAR":{"id":"?h/jKIp{O#yP+)|vpjy@","name":"data","type":"Any"}}}}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"T2xglE[`a{u~($-83`8+","fields":{"NUM":0}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"SrJ*}bu|mMCcf^y:M^BF","fields":{"NUM":0}}}}}},"DO0":{"block":{"type":"blockMotorRun","id":"uA;UC}cjk5%JDmaBHf2z","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"%sW0#H*LEl*OQ_yy+;4:","fields":{"VAR":{"id":";5|[!{_xhTp}vrn(Ltno","name":"base","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"0yT{jt[4.A4AD)s=55sn","fields":{"VALUE0":50}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"*u14[WM8YEfv5iiiemtS","fields":{"VALUE0":360}},"block":{"type":"blockMathArithmetic","id":"zwz*@AGjEs!~(IY0.KsN","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"vp/cKTbz2LEb,MBHHLg$","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"S{d{okI6q.oy/SyfWU*y","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"a)x1J(qFT[41d%l#5I`L","fields":{"NUM":150}},"block":{"type":"blockListGet","id":"sy2^+s=T0pC.H+{2sU4K","extraState":{"optionLevel":1},"fields":{"METHOD":"LIST_GET_INDEX"},"inputs":{"LIST":{"shadow":{"type":"blockListEmpty","id":"kkcP!:UItv/l+lqP-$UR"},"block":{"type":"blockVariableGetValue","id":"uoGg*#Bdqgf1yaHMQBLW","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"%.*8|:G[bx8#IF}v)=)d","fields":{"VAR":{"id":"?h/jKIp{O#yP+)|vpjy@","name":"data","type":"Any"}}}}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"Zr]rQz7z8ugRb3yr;t*j","fields":{"NUM":1}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"IpCIOQ/}!UF.U]r})_3f","fields":{"NUM":150}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"Xw)6R|4R.q8u.6SKZ-@z","fields":{"NUM":0.2}}}}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"44]1(4U%A|7mIl%#R-E3","fields":{"VALUE":"Stop.BRAKE"}}}},"next":{"block":{"type":"blockIfElse","id":"JL.ixo?u!.;|(#G}#X9q","extraState":{"optionLevel":2},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"E]0n}WNOZHR`AVg$8lR:"},"block":{"type":"blockLogicCompare","id":"HZk?D0L?)=?lIl0Q,l#*","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"2=+?W.f*p5{n#7)@C#-A","fields":{"NUM":3}},"block":{"type":"blockListGet","id":"bpy/}+8~arQBw]#xB~:^","extraState":{"optionLevel":1},"fields":{"METHOD":"LIST_GET_INDEX"},"inputs":{"LIST":{"shadow":{"type":"blockListEmpty","id":"kkcP!:UItv/l+lqP-$UR"},"block":{"type":"blockVariableGetValue","id":"n)4OMnuP`G.5#Fu5gR$q","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Ltq@6WV^zI$YbC%Qq7(G","fields":{"VAR":{"id":"?h/jKIp{O#yP+)|vpjy@","name":"data","type":"Any"}}}}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"H+`gETMh:(V6BK+nzQ$d","fields":{"NUM":0}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"SmFAt+pKo)RU8}6]nal:","fields":{"NUM":1}}}}}},"DO0":{"block":{"type":"blockLightMatrixDo","id":"3T*Mr%fxG|]UKw5+~fg,","extraState":{"optionLevel":2},"fields":{"METHOD":"LIGHT_MATRIX_SYMBOL"},"inputs":{"VAR":{"shadow":{"type":"variables_get_light_matrix_hub","id":"-g!3b$r!4(7T#4//7@}x","fields":{"VAR":{"id":"#^/dYjRN#Y*+Ox1(J(}^","name":"prime hub","type":"PrimeHub"}}}},"ARG0":{"shadow":{"type":"text","id":"+GuRrTwec/};%}}in`0!","fields":{"TEXT":"R"}}}}}},"IF1":{"shadow":{"type":"blockLogicTrue","id":"OI)jE7ktw=`J%8|*+F|I"},"block":{"type":"blockLogicCompare","id":"-_yPhmpFwiXXY4oORie0","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"2=+?W.f*p5{n#7)@C#-A","fields":{"NUM":3}},"block":{"type":"blockListGet","id":"1(Clma[0Mp|T,mE#`8t~","extraState":{"optionLevel":1},"fields":{"METHOD":"LIST_GET_INDEX"},"inputs":{"LIST":{"shadow":{"type":"blockListEmpty","id":"kkcP!:UItv/l+lqP-$UR"},"block":{"type":"blockVariableGetValue","id":"2kll`6mwF%J062BQx[J-","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"D3Au0[SfU)TAE/mIu,G|","fields":{"VAR":{"id":"?h/jKIp{O#yP+)|vpjy@","name":"data","type":"Any"}}}}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"Q8*RR`~k|bA|w^!`KwD!","fields":{"NUM":0}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"a_K}((-mAx@Jw2x0/LSb","fields":{"NUM":2}}}}}},"DO1":{"block":{"type":"blockLightMatrixDo","id":"}P!t|PyrDuKA6u%D;5q^","extraState":{"optionLevel":2},"fields":{"METHOD":"LIGHT_MATRIX_SYMBOL"},"inputs":{"VAR":{"shadow":{"type":"variables_get_light_matrix_hub","id":"Jh4Mqj##c.^Y~gu{WME#","fields":{"VAR":{"id":"#^/dYjRN#Y*+Ox1(J(}^","name":"prime hub","type":"PrimeHub"}}}},"ARG0":{"shadow":{"type":"text","id":"iDs(.$P^{WxIz6%uXZ~f","fields":{"TEXT":"Y"}}}}}}}}}}},"ELSE":{"block":{"type":"blockMotorTrack","id":"FGp5(H.K5/n}$Afm4+Qa","inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"s1^cy=):]cXXvX!hJ}W{","fields":{"VAR":{"id":";5|[!{_xhTp}vrn(Ltno","name":"base","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"-jg!Xb)*Laca_?%3`2e-","fields":{"VALUE0":0}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"%[T5tm(C%k^`i!jqpW]m","type":"ColorDef"},{"name":"orange","id":"K_sa5FBi:*E:IY)u|#47","type":"ColorDef"},{"name":"yellow","id":"r+cyk;nLhQn0JRENSdzR","type":"ColorDef"},{"name":"green","id":"|Y?s4U`1An,iR=2!TXL[","type":"ColorDef"},{"name":"cyan","id":"_(:l5qyOw[pTBpZcYw+P","type":"ColorDef"},{"name":"blue","id":"Izd:y3,t6Dl0IkTAJUt}","type":"ColorDef"},{"name":"violet","id":"Mm[$((:y=?NS97{mD,VS","type":"ColorDef"},{"name":"magenta","id":"X|rmZtEN4hq5ORK_ocX`","type":"ColorDef"},{"name":"white","id":"P-HF44(ml@h_fAjEA=0.","type":"ColorDef"},{"name":"none","id":"eNRkpFT#xoIK..%Ve6YC","type":"ColorDef"},{"name":"micropup","id":"aSI,Kyr#J8V;jdzDNkSH","type":"ModuleImported"},{"name":"init","id":"zM`xf7g)*,w$E:ti;D_X","type":"FunctionImported"},{"name":"add_command","id":"SbsXUs[[tqHEJ;U6VMCG","type":"FunctionImported"},{"name":"call","id":"xmrZvWIjkrHj_}BjK%lS","type":"FunctionImported"},{"name":"data","id":"?h/jKIp{O#yP+)|vpjy@","type":"Any"},{"name":"base","id":";5|[!{_xhTp}vrn(Ltno","type":"Motor"},{"name":"prime hub","id":"#^/dYjRN#Y*+Ox1(J(}^","type":"PrimeHub"},{"name":"hub","id":"9_D4%Eu30%L+m.?]~=!{","type":"InventorHub"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Direction, Port, Stop
from pybricks.pupdevices import Motor

from micropup import add_command, call, init

# Set up all devices.
prime_hub = PrimeHub()
base = Motor(Port.B, Direction.CLOCKWISE)

# Initialize variables.
data = 0


# The main program starts here.
init('A')
add_command('blocks', 2, 0)
while True:
    data = call('blocks')
    print(data)
    if data[0] > 0:
        base.run_angle(50, (data[1] - 150) * 0.2, Stop.BRAKE)
        if data[0] == 1:
            prime_hub.display.char('R')
        elif data[0] == 2:
            prime_hub.display.char('Y')
        else:
            pass
    else:
        base.track_target(0)
