# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":-744,"y":-509,"deletable":false,"next":{"block":{"type":"variables_set_motor","id":"a=9^+FQ.9zNsFiHalW|7","fields":{"VAR":{"id":"J!l2.fzw`JRWgQ|^c?XW"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"NB2]ZowEf2gf5YBhc}$9","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"HS6eA@*mj;$}+;Fe_aD5","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"=vU3$-oXS_$v,G=5`o/$","fields":{"VAR":{"id":"X8#M9Sksr*jVWsNkunsW"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"2P98!Tr~[3P/@Sa?]5CM","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"~muOC/yb}`nV266fylB%","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"W?;}.Owwie1{PRO[W`]8","fields":{"VAR":{"id":"%+xXF]Rrz^_(D^(_5=.x"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"^%71*mCdzu(aWv{@3c(x","fields":{"NAME":"E"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"+XbI^A(4#)]A)]FN{#!?","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":".:YFg.d*Ag(qJno/eI~k","fields":{"VAR":{"id":"i/AEnxiv^~9b,(*ae$%{"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"E@}gb./X(|Op,yHY1q9j","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"kl@a2$(1,mb7~=2oN.Ml","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_setup_imported_function","id":"}V]%.{*WnsBU/:~2xN@^","fields":{"FROM_MODULE":{"id":"HJ:$CbdK*xy!pMn=bGN)"},"VAR":{"id":"|Ly2G32U@:X!*ygUXvtK"}},"next":{"block":{"type":"variables_setup_imported_function","id":"T}?Bv#@i!6o+|=TA$7cj","fields":{"FROM_MODULE":{"id":"HJ:$CbdK*xy!pMn=bGN)"},"VAR":{"id":"duze|;G^^AtJ}t`Ag$so"}},"next":{"block":{"type":"variables_setup_imported_function","id":"Tp*{I{X=X@1^n9yjro5d","fields":{"FROM_MODULE":{"id":"HJ:$CbdK*xy!pMn=bGN)"},"VAR":{"id":"Ksnt,JD+cnxsnc!S5s]#"}},"next":{"block":{"type":"variables_setup_imported_function","id":"vylekJupo@pwIdun#[oB","fields":{"FROM_MODULE":{"id":"HJ:$CbdK*xy!pMn=bGN)"},"VAR":{"id":".^IPjdJZf0d8$NQiOS1I"}},"next":{"block":{"type":"variables_setup_imported_function","id":"dn$5rR376DdQ(OTq%_0Z","fields":{"FROM_MODULE":{"id":"HJ:$CbdK*xy!pMn=bGN)"},"VAR":{"id":"*4@.IfTGf*vm)sR{/z^O"}},"next":{"block":{"type":"variables_setup_any","id":"Ev!(ey2$r~fom}rUsYeE","fields":{"VAR":{"id":"6c#W/@maS$^dEd;42*WS"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"xolr1Vgnx3?VG$vr9hoh","fields":{"NUM":0}},"block":{"type":"blockImportTaskCallValue","id":":tV?PU(^5%c]%^PJ;:9I","extraState":{"optionLevel":1},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"$~`!]r85`KK~ER{Kc5|%","fields":{"VAR":{"id":"|Ly2G32U@:X!*ygUXvtK","name":"init","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"][eI}?Fj-R|WA$u[~g?b","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"q(1#*N9i6XnFYK[{iNEm","fields":{"TEXT":"C"}}}}}}},"next":{"block":{"type":"variables_setup_any","id":"KnDcIgodR{3am9o:%fp#","fields":{"VAR":{"id":"{Vxgk$o*uu85ofw(J#B."}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"xolr1Vgnx3?VG$vr9hoh","fields":{"NUM":0}},"block":{"type":"blockImportTaskCallValue","id":"KfwP)XSe)O-#oSVfxC43","extraState":{"optionLevel":3},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"=D|(}7_`|`G*d]Fp5?6E","fields":{"VAR":{"id":"duze|;G^^AtJ}t`Ag$so","name":"add_command","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"][eI}?Fj-R|WA$u[~g?b","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"F/c@3jMZJ!_V=%X*l|?+","fields":{"TEXT":"gest"}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"k(S#{(w4^7qi9Z$z]9|q","fields":{"NUM":1}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"K6q+VNQ;p)w~nDMK~R-)","fields":{"NUM":1}}}}}}},"next":{"block":{"type":"variables_setup_any","id":"fNsRc)-~hXxy|MG{D4j4","fields":{"VAR":{"id":"rl%Lo/I1Q%n?2QjdZ-%q"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"xolr1Vgnx3?VG$vr9hoh","fields":{"NUM":0}},"block":{"type":"blockImportTaskCallValue","id":"sN,qKNA:0cje2sE:AGUD","extraState":{"optionLevel":3},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":";134cKT]M;gWdx;H0iLM","fields":{"VAR":{"id":"duze|;G^^AtJ}t`Ag$so","name":"add_command","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"][eI}?Fj-R|WA$u[~g?b","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"9*U.EMtPosNn3)-4/nYr","fields":{"TEXT":"prox"}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"+4O$BRIzQd?tc@v20ngS","fields":{"NUM":1}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"[./9KzQS3rJ{U%%lD7z)","fields":{"NUM":0}}}}}}},"next":{"block":{"type":"variables_setup_any","id":"0YJM|VD_#)+R4{fw#@Ys","fields":{"VAR":{"id":"lh.0G];@zu:_IO|wN6DF"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"xolr1Vgnx3?VG$vr9hoh","fields":{"NUM":0}},"block":{"type":"blockImportTaskCallValue","id":"ty3jye@3*^xePO%P3Jrm","extraState":{"optionLevel":3},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":":p-F]]pB2ShM+~*B%VY_","fields":{"VAR":{"id":"duze|;G^^AtJ}t`Ag$so","name":"add_command","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"][eI}?Fj-R|WA$u[~g?b","fields":{"NUM":0}},"block":{"type":"blockTextLiteral","id":"2!8P*8SFvZ03t-W|s)lw","fields":{"TEXT":"color"}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"dWIM4cGncm]1=}m/UhOB","fields":{"NUM":3}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"YNmGj{+NRi_[MQxB:KEG","fields":{"NUM":0}}}}}}},"next":{"block":{"type":"variables_setup_any","id":"h9/[-3[0X:~*[ooTaQJU","fields":{"VAR":{"id":"DFDKA1hXvr#leh{atemL"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"2Y|%1X/or.lMA1OGkI-E","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"6!+;_1HO)N26*kOFEh%g","fields":{"VAR":{"id":"ze#0HYyJ+%?0z`5Ri_P-"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"7$oA2MA%p.AePBi;`9At","fields":{"NUM":0}},"block":{"type":"blockLogicTrueFalse","id":"(Y|7B]*WxZ$R)Tv90nRS","fields":{"BOOL":"FALSE"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":-733,"y":296,"deletable":false,"next":{"block":{"type":"blockComment","id":"aky+*b%:]Ax[IMx=d#D2","fields":{"FIELDNAME":"Tasks 1 & 2: Walk AND watch for obstacles"},"next":{"block":{"type":"blockFlowWhile","id":"o1AY$FC(#p)FJ$u)xB(;","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"1_d2W?,~n1ob-h*c!d!h"}},"DO":{"block":{"type":"blockMultiTask","id":"}BWOS[F.hsIXs;0;9r%@","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockFlowWhile","id":"oUc(OQa-cy$#4`ihnkS_","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"f]vI:Z[Tg$?AZ]Y7n--@"},"block":{"type":"blockLogicIsNone","id":"{Y{8pqF?II/3nO]lUq2g","fields":{"OP":"NOT"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":".`3rI#8zIe|=bsXI]z-w"},"block":{"type":"blockVariableGetValue","id":"SZMO}AQG]A?V_@FOZYu?","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"?twGL0bm=.+R)T+r2jQw","fields":{"VAR":{"id":"ze#0HYyJ+%?0z`5Ri_P-","name":"stopped","type":"Any"}}}}}}}}}},"DO":{"block":{"type":"blockWaitTime","id":"A_,4Y9v9eeaapL`F@X!5","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"_zf+9jv_%?$?%YbN9;ML","fields":{"VALUE0":1000}}}},"next":{"block":{"type":"blockVariableSetValue","id":"ly-7+zTuhoP53}^U~I^p","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"n5.eHueY|2b{-6yx+pIe","fields":{"VAR":{"id":"DFDKA1hXvr#leh{atemL","name":"proximity","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"wO%VL,#^5f1F0:yF6qd7","fields":{"NUM":0}},"block":{"type":"blockImportTaskCallValue","id":"%y93.^pTMjDQbCRl60g*","extraState":{"optionLevel":1},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"{(;WvVGr*SQ4~);N{K,h","fields":{"VAR":{"id":".^IPjdJZf0d8$NQiOS1I","name":"call_multitask","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"JLyI[HXOkpd%YK%v].]1","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"E|!lniGo={animmXTXuL","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"a/3]E~PnFF|bYEvY!#[1","fields":{"VAR":{"id":"rl%Lo/I1Q%n?2QjdZ-%q","name":"proximity_cmd","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockPrint","id":"S?$},T~O`1oWIzWzYirh","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"/q^O+PnysAO^s(:h%[]e","fields":{"TEXT":"abc"}},"block":{"type":"blockVariableGetValue","id":"G)`xL+Wb[7u}/[@lmcw;","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"mYRL$txpq?p){zQl*t+=","fields":{"VAR":{"id":"DFDKA1hXvr#leh{atemL","name":"proximity","type":"Any"}}}}}}}},"next":{"block":{"type":"blockIfElse","id":"(frVT{#uPzCLn@xvFH[Q","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"?++42k-F?f,@UE?H33L#"},"block":{"type":"blockLogicCompare","id":"n_;;cjJ%bJr)cFq$q{Yq","fields":{"OP1":"GT"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"F,1ceb2|13p8T,rYjDJS","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"M3cEKM{LmPi~|jp9=9ZA","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"rxt-0ZhGm1UYi~t8?dz~","fields":{"VAR":{"id":"DFDKA1hXvr#leh{atemL","name":"proximity","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"I#?5Yy}{p/1sjz#M5oFJ","fields":{"NUM":35}}}}}},"DO0":{"block":{"type":"blockVariableSetValue","id":"L$slbtw%07{^G=sEz5Ad","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"xv~PhS[.2/XCG?`!+kBG","fields":{"VAR":{"id":"ze#0HYyJ+%?0z`5Ri_P-","name":"stopped","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"H#C(6G}YNl8|mVX1GRc+","fields":{"NUM":0}},"block":{"type":"blockLogicTrueFalse","id":"L-9~b}wYW]8$Hn1gC^*h","fields":{"BOOL":"TRUE"}}}}}}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockFlowWhile","id":",,HL1GB)Q4#qc5$w?{X=","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"AVXb#=lakt4MX?{DW*6y"},"block":{"type":"blockLogicIsNone","id":"K5MdbUcheMmF;%L#4;d@","fields":{"OP":"NOT"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":".`3rI#8zIe|=bsXI]z-w"},"block":{"type":"blockVariableGetValue","id":"(_]=wi,@G8^ersB,P`_8","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"S+sDvMBL%n`XiRSPQ-$!","fields":{"VAR":{"id":"ze#0HYyJ+%?0z`5Ri_P-","name":"stopped","type":"Any"}}}}}}}}}},"DO":{"block":{"type":"blockFunctionCallerStatement","id":"^PDpc!.#gaEM@s}QRCER","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"Zq[?|91a,o*Zey+5o7`{"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"{6M!HZIWwcMs|H]j,$yB","fields":{"NUM":1}}}}}}}}}},"next":{"block":{"type":"blockPrint","id":"5),Ny0:RUmLRa-+LnjW[","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"iBxi,%[g/4p;*(*CghCg","fields":{"TEXT":"All done. Waiting 3s..."}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":",3zHXQ_E/]1w/puWGc3b","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"7qI[~WURzmoNcY=+Zof;"}},"next":{"block":{"type":"blockWaitTime","id":"Y4^a)zZb3J:8?7#hJeyR","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"uIz%`Q@PEEpNXZB-)NQ8","fields":{"VALUE0":3000}}}},"next":{"block":{"type":"blockVariableSetValue","id":"mRSPd0/M/bT@c,V*iKn.","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"1Q3farT`;8%qq*f~Y:4:","fields":{"VAR":{"id":"ze#0HYyJ+%?0z`5Ri_P-","name":"stopped","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"H#C(6G}YNl8|mVX1GRc+","fields":{"NUM":0}},"block":{"type":"blockLogicTrueFalse","id":"XE?!Qo}q^7~qpe%?GJr_","fields":{"BOOL":"FALSE"}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"g;T0(-JU%_+h+atrfaJ+","x":128,"y":643,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"7qI[~WURzmoNcY=+Zof;"}},"inputs":{"STACK":{"block":{"type":"blockMotorRun","id":"Sbo[.UdxpL?DwwuG[fts","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"o1[o+7Ozh3gl;eKOc1sy","fields":{"VAR":{"id":"%+xXF]Rrz^_(D^(_5=.x","name":"body","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"r#*ZycgK_ZP,hA5j6)UJ","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"a1*m[DnMMV?7o6ip[E2R","fields":{"VALUE0":0}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"Lyj.gN$kc+jQ:xI;2jQY","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"K1@m2nV)@j:]zv,5e]V/","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"FLCZ2;k)tUr|TkkU#Ifm","fields":{"VAR":{"id":"i/AEnxiv^~9b,(*ae$%{","name":"head","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"X).!/Re{($F0JW/z7v61","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"2|/43:Pu=|CMcV^W^J:)","fields":{"VALUE0":0}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"/ZNgj#!{IYx84)fK70!p","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"c.n*NF),qdI6=HN$FEWs","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"d56.M%~c,Dhf(JI0,lih","fields":{"VAR":{"id":"J!l2.fzw`JRWgQ|^c?XW","name":"l_leg","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"-{%QeoU!21SVQ4`KY=F*","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"LpOD4W@csM=tw9YX{CQJ","fields":{"VALUE0":0}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"jwes6qh0j5)AsbL`DVr#","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"GgXh;5DQIa6wrF7c)bP+","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"Lkf;X:ky5F|I(}1aq-az","fields":{"VAR":{"id":"X8#M9Sksr*jVWsNkunsW","name":"r_leg","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"pGo4ijC[;lAG=sHv8=?a","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"{uw7+!o)_-QbxJoeuYGm","fields":{"VALUE0":0}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"WuOijNH8iw:1HO2_{lwG","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"~Sr-dJ4hUd7~M%;(i0|P","x":124,"y":-503,"extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"Zq[?|91a,o*Zey+5o7`{"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"[cknX7~486YE(BxBi9N?","fields":{"VAR":{"id":"{X=@Aa%#BKp/|m;*8@Z^","name":"steps","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockFlowRepeat","id":"+if@a?stNN.NG|zZj3OT","inputs":{"TIMES":{"shadow":{"type":"blockMathNumber","id":";#FG*`A)Bqj:/GLf(,#l","fields":{"NUM":10}},"block":{"type":"variables_setup_function_argumentConstant","id":"F7rDYuUa%$~o5%QN^(f%","fields":{"VAR":{"text":"steps"}}}},"DO":{"block":{"type":"blockMotorRun","id":"K3X4fq$t369D2RV:(%-V","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"rfk3:SbsPjxeKQa(MAUK","fields":{"VAR":{"id":"%+xXF]Rrz^_(D^(_5=.x","name":"body","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"{=4+[,:]b8o)V.-0Oq^+","fields":{"VALUE0":100}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"f3%)pZ5O]nTisg)l(0(!","fields":{"VALUE0":40}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"yKRQygPuBccqfNr4*-sN","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"6;F7sXM?s3.o1P^BKWMW","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"@[,aE6,4-tX8c4QC.rro","fields":{"VAR":{"id":"i/AEnxiv^~9b,(*ae$%{","name":"head","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"Yp{r3S`y~d4W.:!=+{L[","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"vt,(yy2x-X@^$R^p+?v;","fields":{"VALUE0":-30}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"LpO-qDFh1)NW/o~bgLc|","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockIfElse","id":"8Kn0~AJ(o(.-8ewlyIiT","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"tKbI:oC~u#L7@9cH8^1M"},"block":{"type":"blockVariableGetValue","id":"xLAe+tUa$=YY;pZ:np8,","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"!eQRn^vnV,^3R]92|Bfa","fields":{"VAR":{"id":"ze#0HYyJ+%?0z`5Ri_P-","name":"stopped","type":"Any"}}}}}}},"DO0":{"block":{"type":"blockFlowBreakContinue","id":"g3V$M0_*`m$$DA:^8)q[","fields":{"FLOW":"BREAK"}}}},"next":{"block":{"type":"blockMotorRun","id":"jP[k5{N(Gybf_]Xc*@**","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"U).K:!C:,9dQ|z8u`ofb","fields":{"VAR":{"id":"J!l2.fzw`JRWgQ|^c?XW","name":"l_leg","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"uIL@A=R@#d]f72v]Voc3","fields":{"VALUE0":100}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"-ZC6UK(fDW!uc85rT|.9","fields":{"VALUE0":-20}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"0bON6yJCAtgmF%hEIw?w","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"bbi4*+J%2B`2(3/g$;;r","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"9TCd]eB1{Eb9]dnt,-80","fields":{"VAR":{"id":"i/AEnxiv^~9b,(*ae$%{","name":"head","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"SB^8x/UQ{TABp*Z2*sq;","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"tH`dBmJ(a.+vNtc7-NO_","fields":{"VALUE0":0}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"F=G^cC^.lCkRSP*cvenv","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockIfElse","id":";D3X^:lY.Rnd],mYpot~","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"tKbI:oC~u#L7@9cH8^1M"},"block":{"type":"blockVariableGetValue","id":"B(9JEi_|,RU:h,ir.(gp","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"prPyn]v?Z%^O0Nw8mPo2","fields":{"VAR":{"id":"ze#0HYyJ+%?0z`5Ri_P-","name":"stopped","type":"Any"}}}}}}},"DO0":{"block":{"type":"blockFlowBreakContinue","id":"XElsPT@HeG;4zs9Q*OF~","fields":{"FLOW":"BREAK"}}}},"next":{"block":{"type":"blockMotorRun","id":"*hc]fbb1[r{VL+chgaUo","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"stOYxg|7%KS)Jj9-vAGO","fields":{"VAR":{"id":"X8#M9Sksr*jVWsNkunsW","name":"r_leg","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"a)Qw~YqzIm,_/VQf`q^4","fields":{"VALUE0":100}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"J{Uo0,!Gv9:vq=0L1~67","fields":{"VALUE0":30}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"5tB0.?1XyW7;LfW1R[n!","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":")MleN/p:fK6b=DWBhSD^","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"jTN_vr3.-+t/-fZ/[hXy","fields":{"VAR":{"id":"%+xXF]Rrz^_(D^(_5=.x","name":"body","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"-rcdre~]kHG0p{og-Syp","fields":{"VALUE0":100}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"8~9R17kawCAk8,$4~Sym","fields":{"VALUE0":-40}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"RV!6(J`uyKI8oB+gtm7x","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"**66@]z83}/hEnmP)9U1","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"kuqh*D@j6XY:Fkf=Zl`a","fields":{"VAR":{"id":"i/AEnxiv^~9b,(*ae$%{","name":"head","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"Il1.nH$..v?NG%dphO{A","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"n$z+pHfw6sH]Bk?3loc=","fields":{"VALUE0":-30}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"=uzo8?B5|kp2*ErU3Fny","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockIfElse","id":"W#ID(VsUXOl!n4AxZr9F","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"tKbI:oC~u#L7@9cH8^1M"},"block":{"type":"blockVariableGetValue","id":"(Kq*B~wv*S7/fI+w4UvU","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"_=;7Z7!+qDp6Zr,:1;r7","fields":{"VAR":{"id":"ze#0HYyJ+%?0z`5Ri_P-","name":"stopped","type":"Any"}}}}}}},"DO0":{"block":{"type":"blockFlowBreakContinue","id":"?Sd}Avq,{.%DVLK2QnyL","fields":{"FLOW":"BREAK"}}}},"next":{"block":{"type":"blockMotorRun","id":"(Je:~x3]Eb6f.d=eh6yH","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"fpSUcy$(8ML$*5*IE?M.","fields":{"VAR":{"id":"X8#M9Sksr*jVWsNkunsW","name":"r_leg","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"e=]lE;1{3FbKn,HzSq6S","fields":{"VALUE0":100}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"R]nJ`g2$T)BQ5huNPaII","fields":{"VALUE0":-20}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"VLXnq5*qZ9|*UW=vJTuj","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"kjuB6F32a#/^Ud8ZvO}9","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"bhj9:gBLilEIvr)E$31)","fields":{"VAR":{"id":"i/AEnxiv^~9b,(*ae$%{","name":"head","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"@C!G6@[Xw`o@e^O7/_[=","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"ELd[[7S_7@Vv~Ylo/zIL","fields":{"VALUE0":0}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"8i0xl)9e*tpKqa+_+4~K","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"mY*i,sx!*5em!gTBR3@a","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"4Leko2AzWHCvojPizg**","fields":{"VAR":{"id":"J!l2.fzw`JRWgQ|^c?XW","name":"l_leg","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"@]paUaGTWUx=C8/X[H.f","fields":{"VALUE0":100}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"ktJ.%R|-K[=%bo2~yqHX","fields":{"VALUE0":30}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"xs[`fCr],#4kw$y#|Cub","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockIfElse","id":"/L;`|]`=LMZ@IL1DH|AP","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"tKbI:oC~u#L7@9cH8^1M"},"block":{"type":"blockVariableGetValue","id":"HKyZbMW!]3yU5kU6sv(3","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Z,Yvo$D:)*z[R22Z1hmf","fields":{"VAR":{"id":"ze#0HYyJ+%?0z`5Ri_P-","name":"stopped","type":"Any"}}}}}}},"DO0":{"block":{"type":"blockFlowBreakContinue","id":"6$X7}]_)8VUtU5{{XQ3C","fields":{"FLOW":"BREAK"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"?YL2Y}R50Uf!VQZw]Lgq","x":113,"y":964,"extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"dAtzz*LeZuz,:tS~Cx96"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"t8,PA/NgLb?g?!:ZF2bB","fields":{"VAR":{"id":"Fu4NBP76,-pq6edXv%PD","name":"amount","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockMotorRun","id":"HiWOK}5msI67nk;FQGKi","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"2EE5stMQn9B/*b3|e=}2","fields":{"VAR":{"id":"%+xXF]Rrz^_(D^(_5=.x","name":"body","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"LNWS7|+Q/y_fLYfKww[1","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":":rR8i[~WbUzD~@slj%Lb","fields":{"VALUE0":0}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"NV5G+7L~iUY2#]tX`Uk9","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"d^(mvh,=x](m2cCh4,mX","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"7H`uWsoC~=~d`W4M%@X/","fields":{"VAR":{"id":"J!l2.fzw`JRWgQ|^c?XW","name":"l_leg","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"zL7T@5VuT~89?We{EoG`","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"ts-SJT^w^#NiR|HBmo0U","fields":{"VALUE0":50}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"Ju}_4x|2#%]7#9sE=};v","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"-jNI:8-fya[E{qy:0FnE","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"DL~kiXDAUv#K.Cs,NDd{","fields":{"VAR":{"id":"X8#M9Sksr*jVWsNkunsW","name":"r_leg","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"+Zd?8yM$LWUF?*sPa4|2","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"ComC`UKH_N(RO9:.Yg6n","fields":{"VALUE0":50}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"[{~m[165M%+ZI3ua7ljl","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFlowRepeat","id":"iV#M$8pCG[x2o4k:fyd;","inputs":{"TIMES":{"shadow":{"type":"blockMathNumber","id":"-wQiCRd^iKLbuu!Cbzw.","fields":{"NUM":10}},"block":{"type":"variables_setup_function_argumentConstant","id":"t#IaF:P0A3GeMTj}4/Rn","fields":{"VAR":{"text":"amount"}}}},"DO":{"block":{"type":"blockMotorRun","id":"*1HPKUW/jpNYn?wZ|7[|","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":")?aA,`QJfe}ZPKZ$?PYv","fields":{"VAR":{"id":"i/AEnxiv^~9b,(*ae$%{","name":"head","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"u|_`br|Qw-|:o0M/l3J(","fields":{"VALUE0":700}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"3ro*9]S!fsvoSAy~P0B0","fields":{"VALUE0":-95}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"Zq0y;.G4fYAF:v.nKR{l","fields":{"VALUE":"Stop.BRAKE"}}}},"next":{"block":{"type":"blockMotorRun","id":"NCBaJKUb^KdPc4{z98oQ","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"6CBm?}H{ms3!r2sd`jS4","fields":{"VAR":{"id":"i/AEnxiv^~9b,(*ae$%{","name":"head","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"i])Nh|YQtO|vdPgGp,kH","fields":{"VALUE0":100}}},"ANGLE":{"shadow":{"type":"unit_angle","id":";ew^qi]BLvQF#{f.yet4","fields":{"VALUE0":-45}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"Jp?Q1YqF$-^B]y;WbFD5","fields":{"VALUE":"Stop.BRAKE"}}}}}}}}},"next":{"block":{"type":"blockMotorRun","id":"=!$m!zN~`Y2yw9}[rTbH","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_RUN_TO"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"OoKa{,t=Iw(#NSjMdwj|","fields":{"VAR":{"id":"i/AEnxiv^~9b,(*ae$%{","name":"head","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"^aPv#;0-lv84yd#YhVpo","fields":{"VALUE0":300}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"pOK~L7=u:uuag7fWKQc$","fields":{"VALUE0":20}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"M}Lq]K,,SJ}jH[fwM[ZU","fields":{"VALUE":"Stop.BRAKE"}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"5-n!gP@KR/q)j`h58;Nh","x":-250,"y":312,"next":{"block":{"type":"blockComment","id":"fTc$SF(bG_yC_Ehq)@F,","fields":{"FIELDNAME":"Task 3: Update sensor data"},"next":{"block":{"type":"blockImportTaskCallStatement","id":"WJx92hIh0*xvIX]B[8`K","extraState":{"optionLevel":0},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"8U1Uc:aSpI%lX;Upvp)o","fields":{"VAR":{"id":"*4@.IfTGf*vm)sR{/z^O","name":"process_calls","type":"FunctionImported"}}}}}}}}}}]},"variables":[{"name":"red","id":"042hrlRB=x1=[][wsMN_","type":"ColorDef"},{"name":"orange","id":"J.u}WTD_Jpf3NWcgqAXF","type":"ColorDef"},{"name":"yellow","id":"#WyabJ#+4Gj/[dEGxjoa","type":"ColorDef"},{"name":"green","id":"g1cQrSzw=D6a[8L_,I}y","type":"ColorDef"},{"name":"cyan","id":"I#_0=(^-xVWXVhvM:?3-","type":"ColorDef"},{"name":"blue","id":"?Li)l+wnGCsP^?~G=#v:","type":"ColorDef"},{"name":"violet","id":"M_-,moy0dilN,T|`mrk6","type":"ColorDef"},{"name":"magenta","id":"NZusm68{UidZ$T=~3^Ty","type":"ColorDef"},{"name":"white","id":"T$I~a6V[1p-qdGpOMtT_","type":"ColorDef"},{"name":"none","id":"a%eC$fU()MNXV2|P2^lc","type":"ColorDef"},{"name":"l_leg","id":"J!l2.fzw`JRWgQ|^c?XW","type":"Motor"},{"name":"r_leg","id":"X8#M9Sksr*jVWsNkunsW","type":"Motor"},{"name":"body","id":"%+xXF]Rrz^_(D^(_5=.x","type":"Motor"},{"name":"head","id":"i/AEnxiv^~9b,(*ae$%{","type":"Motor"},{"name":"Neutral","id":"7qI[~WURzmoNcY=+Zof;","type":"Function"},{"name":"Walk","id":"Zq[?|91a,o*Zey+5o7`{","type":"Function"},{"name":"peck","id":"dAtzz*LeZuz,:tS~Cx96","type":"Function"},{"name":"_","id":"6c#W/@maS$^dEd;42*WS","type":"Any"},{"name":"gesture_cmd","id":"{Vxgk$o*uu85ofw(J#B.","type":"Any"},{"name":"proximity_cmd","id":"rl%Lo/I1Q%n?2QjdZ-%q","type":"Any"},{"name":"stop_cmd","id":"lh.0G];@zu:_IO|wN6DF","type":"Any"},{"name":"stopped","id":"ze#0HYyJ+%?0z`5Ri_P-","type":"Any"},{"name":"proximity","id":"DFDKA1hXvr#leh{atemL","type":"Any"},{"name":"init","id":"|Ly2G32U@:X!*ygUXvtK","type":"FunctionImported"},{"name":"add_command","id":"duze|;G^^AtJ}t`Ag$so","type":"FunctionImported"},{"name":"call","id":"Ksnt,JD+cnxsnc!S5s]#","type":"FunctionImported"},{"name":"call_multitask","id":".^IPjdJZf0d8$NQiOS1I","type":"FunctionImported"},{"name":"process_calls","id":"*4@.IfTGf*vm)sR{/z^O","type":"FunctionImported"},{"name":"micropup","id":"HJ:$CbdK*xy!pMn=bGN)","type":"ModuleImported"},{"name":"steps","id":"{X=@Aa%#BKp/|m;*8@Z^","type":"FunctionArgument"},{"name":"amount","id":"Fu4NBP76,-pq6edXv%PD","type":"FunctionArgument"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.parameters import Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.tools import multitask, run_task, wait

from micropup import add_command, call, call_multitask, init, process_calls

# Set up all devices.
l_leg = Motor(Port.B, Direction.CLOCKWISE)
r_leg = Motor(Port.A, Direction.COUNTERCLOCKWISE)
body = Motor(Port.E, Direction.CLOCKWISE)
head = Motor(Port.F, Direction.CLOCKWISE)

# Initialize variables.
_2 = init('C')
gesture_cmd = add_command('gest', 1, 1)
proximity_cmd = add_command('prox', 1, 0)
stop_cmd = add_command('color', 3, 0)
proximity = 0
stopped = False

async def Walk(steps):
    await wait(0)
    for count in range(int(steps)):
        await wait(0)
        await body.run_target(100, 40)
        await head.run_target(300, -30)
        if stopped:
            break
        await l_leg.run_target(100, -20)
        await head.run_target(300, 0)
        if stopped:
            break
        await r_leg.run_target(100, 30)
        await body.run_target(100, -40)
        await head.run_target(300, -30)
        if stopped:
            break
        await r_leg.run_target(100, -20)
        await head.run_target(300, 0)
        await l_leg.run_target(100, 30)
        if stopped:
            break

async def subtask():
    global proximity, stopped
    while not stopped:
        await wait(0)
        await wait(1000)
        proximity = await call_multitask(proximity_cmd)
        print(proximity)
        if proximity > 35:
            stopped = True

async def subtask2():
    while not stopped:
        await wait(0)
        await Walk(1)

async def Neutral():
    await wait(0)
    await body.run_target(300, 0)
    await head.run_target(300, 0)
    await l_leg.run_target(300, 0)
    await r_leg.run_target(300, 0)

async def peck(amount):
    await wait(0)
    await body.run_target(300, 0)
    await l_leg.run_target(300, 50)
    await r_leg.run_target(300, 50)
    for count2 in range(int(amount)):
        await wait(0)
        await head.run_target(700, -95, Stop.BRAKE)
        await head.run_target(100, -45, Stop.BRAKE)
    await head.run_target(300, 20, Stop.BRAKE)

async def main1():
    global proximity, stopped
    # Tasks 1 & 2: Walk AND watch for obstacles
    while True:
        await wait(0)
        await multitask(
            subtask(),
            subtask2(),
        )
        print('All done. Waiting 3s...')
        await Neutral()
        await wait(3000)
        stopped = False

async def main2():
    # Task 3: Update sensor data
    await process_calls()


async def main():
    await multitask(main1(), main2())

run_task(main())